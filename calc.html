<html>
<html lang="ko">
<!-- <script src="/webjars/jquery/3.6.0/jquery.min.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

<head>
	<meta charset="utf-8">
	<meta content="width=device-width" name="viewport">

	<title>니즈 아크릴판 제작 가공</title>
	<meta content="" name="description">
	<meta content="" name="keywords">

	<!-- Favicons -->
	<link href="/assets/img/favicon.ico" rel="icon">
	<link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

	<!-- Google Fonts -->
	<link
		href="https://fonts.googleapis.com/css?family=Nanum Gothic"
		rel="stylesheet">
		
	<link 
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
		rel="stylesheet" 
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
		crossorigin="anonymous">

	<!-- Template Main CSS File -->
	<link href="/assets/css/style.css" rel="stylesheet">

</head>

<script>
	$(function(){
		
		var filter = "win16|win32|win64|mac|macintel";

		if ( navigator.platform ) {
			if ( filter.indexOf( navigator.platform.toLowerCase() ) < 0 ) {
				//$('#comp').attr("src", "/assets/img/comps-m.png");
				$('.contents-txt2').css("top", "78%");
				$('.contents-txt3').css("top", "78%");
				$('.contents-txt4').css("top", "90%");
				$('.contents-txt5').css("top", "90%");
				
				$('.pd-100').css("padding-top", "155px");
			} else {
				//$('#comp').attr("src", "/assets/img/comps.png");
			}
		}
		
		$('#color').change(function(){
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
		
		$('#thick').change(function(){
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
		
		$(document).on('change', '#width', function() {
			var widthVal = $('#width').val();
			
			if((widthVal >= 0 && widthVal < 5) || widthVal > 90){
				$('#notice1').show();
				$('#info').hide();
			} else {
				$('#notice1').hide();
				$('#info').show();
			}
			
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
			
		$('#width').keyup(function(){
			var widthVal = $('#width').val();
			
			if((widthVal >= 0 && widthVal < 5) || widthVal > 90){
				$('#notice1').show();
				$('#info').hide();
			} else {
				$('#notice1').hide();
				$('#info').show();
			}
			
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
		
		$('#height').keyup(function(){
			var heightVal = $('#height').val();
			
			if((heightVal >= 0 && heightVal < 5) || heightVal > 180){
				$('#notice1').show();
				$('#info').hide();
			} else {
				$('#notice1').hide();
				$('#info').show();
			}
			
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
		
		$(document).on('change', '#height', function() {
			var heightVal = $('#height').val();
			
			if((heightVal >= 0 && heightVal < 5) || heightVal > 180){
				$('#notice1').show();
				$('#info').hide();
			} else {
				$('#notice1').hide();
				$('#info').show();
			}
			
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
		
		$('#cnt').keyup(function(){
			var cntVal = $('#cnt').val();
			
			if(cntVal == 0){
				$('#notice2').show();
				$('#info').hide();
			} else {
				$('#notice2').hide();
				$('#info').show();
			}
			
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
		
		$(document).on('change', '#cnt', function() {
			var cntVal = $('#cnt').val();
			
			if(cntVal == 0){
				$('#notice2').show();
				$('#info').hide();
			} else {
				$('#notice2').hide();
				$('#info').show();
			}
			
			const colorChk = $('#color').val();
			const thickChk = $('#thick').val();
			const widthChk = $('#width').val();
			const heightChk = $('#height').val();
			const cntChk = $('#cnt').val();
			
			formChk(colorChk, thickChk, widthChk, heightChk, cntChk);
		});
		
		// 2T 계산함수
		function calPrice2T(width, height, cnt) {
			var heightCnt = (height - 10)/10;
			var price = 0;
			var tntPrice = 0;
			var arrHeight10= ['1000','1000','1000','2000','2000','2000','3000','3000','3000','4000','4000','5000','10000','13000','16000','19000','21000','24000','27000','30000','33000','36000','39000','42000'];
      var arrHeight20= ['1000','2000','2000','3000','3000','4000','5000','6000','6000','8000','8000','8000','15000','18000','21000','24000','26000','29000','33000','36000','39000','42000','45000','48000'];
      var arrHeight30= ['1000','2000','3000','4000','5000','6000','7000','8000','9000','11000','11000','11000','20000','23000','26000','29000','31000','33000','39000','42000','45000','48000','51000','54000'];
      var arrHeight40= ['2000','3000','4000','5000','7000','8000','9000','10000','12000','14000','14000','15000','28000','30000','33000','36000','38000','40000','45000','48000','51000','54000','57000','60000'];
      var arrHeight50= ['2000','3000','5000','7000','8000','9000','11000','12000','14000','17000','17000','19000','35000','37000','40000','42000','44000','46000','51000','54000','57000','60000','63000','66000'];
      var arrHeight60= ['2000','4000','6000','8000','9000','11000','13000','15000','17000','20000','20000','22000','41000','43000','46000','48000','50000','52000','57000','62000','67000','72000','77000','82000'];
      var arrHeight70= ['3000','5000','7000','9000','11000','13000','15000','18000','19000','23000','24000','26000','45000','49000','52000','54000','56000','58000','63000','68000','73000','78000','83000','88000'];
      var arrHeight80= ['3000','6000','8000','10000','12000','15000','18000','19000','23000','26000','27000','29000','50000','53000','56000','58000','60000','62000','69000','75000','81000','87000','93000','99000'];
      var arrHeight90= ['3000','6000','9000','12000','14000','17000','19000','23000','25000','29000','30000','33000','58000','61000','64000','66000','68000','70000','76000','82000','88000','94000','100000','106000'];
      var arrHeight100=['4000','8000','11000','14000','17000','20000','23000','26000','29000','35000','38000','45000','62000','66000','70000','74000','78000','82000','88000','92000','96000','100000','104000','108000'];
      var arrHeight110=['4000','8000','11000','14000','17000','20000','24000','27000','30000','38000','42000','48000','65000','69000','73000','77000','81000','85000','95000','99000','103000','107000','111000','115000'];
      var arrHeight120=['5000','8000','11000','15000','19000','22000','26000','29000','33000','45000','48000','52000','70000','74000','78000','82000','86000','90000','105000','109000','113000','117000','121000','125000'];
			
			if(width == 10) {
			  price = arrHeight10[heightCnt];
			} else if(width == 20) {
			  price = arrHeight20[heightCnt];
			} else if(width == 30) {
			  price = arrHeight30[heightCnt];
			} else if(width == 40) {
			  price = arrHeight40[heightCnt];
			} else if(width == 50) {
			  price = arrHeight50[heightCnt];
			} else if(width == 60) {
			  price = arrHeight60[heightCnt];
			} else if(width == 70) {
			  price = arrHeight70[heightCnt];
			} else if(width == 80) {
			  price = arrHeight80[heightCnt];
			} else if(width == 90) {
			  price = arrHeight90[heightCnt];
			} else if(width == 100) {
			  price = arrHeight100[heightCnt];
			} else if(width == 110) {
			  price = arrHeight110[heightCnt];
			} else if(width == 120) {
			  price = arrHeight120[heightCnt];
			}																								
    	
    	tntPrice = price * cnt;
    	
    	//alert('tntPrice : ' + tntPrice);
    	
    	return tntPrice;
		}

		function formChk(color, thick, width, height, cnt){
			if(color != '' && thick != '' && width > 4 && height > 4 && cnt > 0){
				//$('#info').hide();
				//$('#priceEx').show();
				
				var tntPrice = 0;
				
				if(thick == 2) {
					tntPrice = calPrice2T(width, height, cnt);
					alert(tntPrice);
				}
				
				$('.pd-150').css('padding-bottom', '0px');
				
				$('#p1').text(width + "x" + height + " 입력");
				$('#p2').text(cnt + "개 입력");
				$('#p3').text(color + " 선택");
				$('#p4').text(thick + " 선택");
				
				$('#p-1').text(width + "x" + height + " / " + cnt + " / " + color + " / " + thick);
				
				var params = {
					width : width,
					height : height,
					thick : thick
				}
				
				$.ajax({
			    	type : "POST",           
			        url : "/pricing",      
			        data : params,            
			        success : function(res){
						
						var price = Number(res).toLocaleString('en');
						var totPrice = Number(res * cnt).toLocaleString('en');
						
						var totCnt = Number((res * cnt) / 1000);
						
			      $('#price').text(price);
						$('#orderCnt').text(cnt);
						
						$('#p5').text("주문 수량 " + totCnt + "개 선택");
						$('#p-2').text(totCnt);
						$('#p-4').text("총 수량 " + totCnt + "개");
						
	        	$('#totalPrice').text(totPrice);
	        	$('#p-3').text(totPrice + '원');
	        	$('#p-5').text(totPrice + '원');
	        }
				});
			}
		}
	})
</script>

<body>
	<div class="container-fluid p-3">
		<div class="text-center top">
		</div>
		
		<div class="text-center titles">
			아크릴 주문 금액 계산기<br/><br/>
		</div>
		
		<div class="row heads">
			<div>
				주문은 최소 <span>가로 5cm X 세로 5cm</span> 이상 <span>최대 가로 90cm X 세로 180cm</span> 이하 까지 주문 가능합니다.<br/>
				주문 및 장당 가격에 대한 내용은 아래 주문 방법 및 가격표 참고 부탁드립니다.<br/><br/>
			</div>
		</div>
		
		<div class="row red">
			<div>
				정확한 mm 사이즈의 재단이 필요하신분은 소숫점으로 입력하시면 됩니다.<br/>
				(예시) 115mm = 11.5cm<br/><br/>
			</div>
		</div>
		
		<div class="row justify-content-md-center pd-150">
			
			<div class="col col-6">
				<select id="color" class="form-select m-group">
					<option value="">색상</option>
					<option value="1.투명아크릴">1.투명아크릴</option>
					<option value="2.백색유광아크릴">2.백색유광아크릴</option>
					<option value="3.백색무광아크릴">3.백색무광아크릴</option>
					<option value="4.흑색유광아크릴">4.흑색유광아크릴</option>
					<option value="5.흑색무광아크릴">5.흑색무광아크릴</option>
					<option value="6.흑색반투명아크릴">6.흑색반투명아크릴</option>
					<option value="7.청색아크릴">7.청색아크릴</option>
					<option value="8.청색반투명아크릴">8.청색반투명아크릴</option>
					<option value="9.적색유광아크릴">9.적색유광아크릴</option>
					<option value="10.적색반투명아크릴">10.적색반투명아크릴</option>
					<option value="11.녹색유광아크릴">11.녹색유광아크릴</option>
					<option value="12.녹색반투명아크릴">12.녹색반투명아크릴</option>
					<option value="13.노랑유광아크릴">13.노랑유광아크릴</option>
					<option value="14.노랑반투명아크릴">14.노랑반투명아크릴</option>
					<option value="15.오렌지형광아크릴">15.오렌지형광아크릴</option>
					<option value="16.연두형광아크릴">16.연두형광아크릴</option>
					<option value="17.브라운반투명아크릴">17.브라운반투명아크릴</option>
				</select>
			</div>
			<div class="col col-6" style="padding-bottom:20px;">
				<select id="thick" class="form-select m-group">
					<option>두께</option>
					<!--
					<option value="아크릴 2T">아크릴 2T</option>
					<option value="아크릴 3T">아크릴 3T</option>
					<option value="아크릴 5T">아크릴 5T</option>
					<option value="아크릴 8T">아크릴 8T</option>
					<option value="아크릴 10T">아크릴 10T</option>
					-->
					<option value="2">아크릴 2T</option>
					<option value="3">아크릴 3T</option>
					<option value="5">아크릴 5T</option>
					<option value="8">아크릴 8T</option>
					<option value="10">아크릴 10T</option>
				</select>
			</div>
			
			<div class="col col-9">
				<div class="input-group">
					<!--
					<span class="input-group-text m-group reline"><b>가로</b></span>
					<input type="number" max="90" min="5" id="width" class="form-control m-group reline" step="0.1">
					<span class="input-group-text m-group reline">cm</span>
					<span class="input-group-text m-group reline" style="border-left:0; border-right:0;">X</span>
					<span class="input-group-text m-group reline" style="border-left:0;"><b>세로</b></span>
					<input type="number" max="180" min="5" id="height" class="form-control m-group reline" step="0.1">
					<span class="input-group-text m-group reline">cm</span>
					-->
					<span class="input-group-text m-group reline"><b>가로</b></span>
					<input type="number" max="120" min="10" id="width" class="form-control m-group reline" step="10">
					<span class="input-group-text m-group reline">cm</span>
					<span class="input-group-text m-group reline" style="border-left:0; border-right:0;">X</span>
					<span class="input-group-text m-group reline" style="border-left:0;"><b>세로</b></span>
					<input type="number" max="240" min="10" id="height" class="form-control m-group reline" step="10">
					<span class="input-group-text m-group reline">cm</span>
				</div>
			</div>
			<div class="col col-3">
				<div class="input-group">
					<span class="input-group-text m-group">수량</span>
					<input type="number" min="1" max="9999" id="cnt" class="form-control m-group">
				</div>
			</div>
			
			<div class="col col-lg-4 col-7 d-price">
				1장당 가격 <span id="price"></span>원 X 주문 수량 <span id="orderCnt"></span>장 =
			</div>
			<div class="col col-lg-4 col-5 alert-primary d-price">
				총 주문 금액 <span id="totalPrice"></span>원
			</div>
			<div class="col col-lg-4">
			</div>
		</div>
		
		<div id="notice1" style="display:none;" class="alert alert-danger p-3 notice">
			<p>주문 가능한 크기가 아닙니다.</p>
			<p>최소 주문 가능 크기는 가로 5cm X 세로 5cm 이상,</p>
			<p>최대 주문 가능 크기는 가로 90cm X 세로 180cm 이하입니다.</p>
		</div>
		
		<div id="notice2" style="display:none;" class="alert alert-danger p-3 notice">
			<p>주문 가능한 수량이 아닙니다.</p>
			<p>최소 주문 가능한 수량은 1개 이상 입니다.</p>
		</div>
		
		<div id="info" class="alert alert-primary infos">
			<p>위의 색상, 두께, 가로, 세로, 수량을 입력하시면</p>
            <p>장당 가격 및 전체 주문 금액까지 자동으로 계산이 됩니다.</p>
            <p>더불어 구매하기 예시도 보실 수 있으니 참고 부탁드립니다.</p>
            <p style="margin-top:100px;">아래로 내려 보시면 보다 자세하게</p>
            <p>가격표 및 아크릴 관련 내용을 보실 수 있습니다.</p>
		</div>
		
		<div id="priceEx" style="display:none;">
			<div id="content-img" class="alert contents-img">
				<div>
					<img id="comp" src="/assets/img/comps.png" style="width:100%;">
				</div>
				<div class="contents-txt1">
					<p id="p-1"></p>
				</div>
				<div class="contents-txt2">
					<p id="p-2"></p>
				</div>
				<div class="contents-txt3">
					<p id="p-3"></p>
				</div>
				<div class="contents-txt4">
					<p id="p-4"></p>
				</div>
				<div class="contents-txt5">
					<p id="p-5"></p>
				</div>
			</div>
			<div id="content" class="alert contents">
				<div class="alert alert-primary">
					<p style="margin-bottom:0px;">구매하기 내용을 아래와 같이 넣어주세요.</p>
					<div id="p1" class="pd-10"></div>
		            <div id="p2" class="pd-20"></div>
		            <div id="p3" class="pd-30"></div>
		            <div id="p4" class="pd-40"></div>
		            <div id="p5" class="pd-190"></div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>
